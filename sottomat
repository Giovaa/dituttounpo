#include <fstream>
using namespace std;
int r,c;
int mx;
int mat[2000][2000];
int main(){
    ifstream in("input.txt");
    in>>r;
    in>>c;
    int mx=0;
    int sum1=0;
    int sum2=0;    
    for(int i=0;i<r;i++){
            for(int j=0;j<c;j++){
                    in>>mat[i][j];
            }
    }        
    for(int i=0;i<r;i++){
            for(int j=0;j<c;j++){
                   for(int k=i;k<r;k++){
						for(int g=j;g<c;g++){
								sum1=sum1+mat[k][g];
								if(mx<sum1){
									mx=sum1;}
        
						}        
					}
					for(int k=j;k<c;k++){
						for(int g=i;g<r;g++){
								sum2=sum2+mat[g][k];
								if(mx<sum2){
									mx=sum2;}
        
						}        
					}
              sum1=0;
              sum2=0;		
            } 
      
    }
    
    ofstream out("output.txt");
    out<<mx<<endl;
    return 0;
}
